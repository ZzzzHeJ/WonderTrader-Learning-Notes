---
sort: 3
---

# 前置知识

在这编写策略前，需要先了解以下概念

## WT引擎

为了应对不同的交易情景，WT提供了多种交易引擎供大家选择

- 适用于中低频，多策略，多账户，多品种交易的[CTA引擎](../开发手册/WTPY/4.交易引擎/1.CTA引擎.md)
- 适用于高频，自己管理交易执行的[HFT引擎](../开发手册/WTPY/4.交易引擎/2.HFT引擎.md)
- 适用于多因子选股的[SEL引擎](../开发手册/WTPY/4.交易引擎/3.SEL引擎.md)
- 适用于超高频，低延迟但需要自己处理所有细节的[UFT引擎](../开发手册/WTPY/4.交易引擎/4.UFT引擎.md)

## 事件驱动 (Even)

同大多数的量化框架一样，WT中的策略也采用事件驱动的方式。所谓事件驱动的意思是，策略的中逻辑的执行，是由一个个事件推动的，当一个事件发生时，策略便执行对应事件的回调函数，从而推动策略运行。

## 策略运行上下文 (Context)

Context是策略可以直接访问的唯一对象，策略所有的接口都通过Context对象调用，Context类的接口包括以下几类：

1. 时间接口（日期、时间等）
2. 数据接口（K线、财务等）
3. 下单接口（设置目标仓位、直接下单等

```tip
不同的交易引擎提供的事件以及上下文有所不同，具体可以查阅对应交易引擎部分。

```

## 配置文件

在WT中，大量的设置通过配置文件的形式实现，配置文件可以分为以下几类：

1. [基本配置文件](../开发手册/WTPY/2.配置文件/1.基础配置文件.md),所有策略、工具共用的基础配置
2. [策略配置文件](../开发手册/WTPY/2.配置文件/2.策略配置文件.md)，策略运行相关的配置文件，其中指定基本配置文件和数据所在目录，回测的相关设置，策略参数，行情服务器等等。

## 行情与交易服务

Wt中需要自行准备行情和交易服务，可以通过自己所用的券商获取，或者通过[simnow](https://www.simnow.com.cn/loginPage.action)注册获取。

行情服务将行情信息输送给WT，而交易服务则将WT的交易指令发送给交易所。

CPP版本中需要自行配置动态链接库到每个策略执行器中，[API](https://github.com/wondertrader/wondertrader/tree/master/src/API)

而wtpy中仅需要自行配置tdparsers.yaml与tdtraders.yaml即可。

## 历史行情

WT不提供历史行情，需要自行从其他数据源中获取，并转换为WT使用的DSB格式，笔者这里提供了从米筐获取数据源的代码，供大家参考使用，其他数据源通过继承Ifeed，并实现get_tick与get_bar即可实现。

而每日新增的行情可以通过[datakit](../开发手册/WTPY/工具集/datakit.md)录制更新